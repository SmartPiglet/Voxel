(e=>{"function"==typeof define&&define.amd?define("pricingPlans",e):e()})(function(){Array.from(document.querySelectorAll(".ts-paid-members-plans .vx-pick-plan")).forEach(e=>{let t=e.closest(".ts-plan-container");e.addEventListener("click",e=>{e.preventDefault(),t.classList.add("vx-pending"),jQuery.get(e.currentTarget.href).always(e=>{e.success?"dialog"===e.type?(e.dialog.actions.forEach(r=>{(r.confirm_switch||r.confirm_cancel)&&(r.onClick=e=>{e.preventDefault(),t.classList.add("vx-pending"),jQuery.get(r.link).always(e=>{e.success?window.location.href=e.redirect_to:Voxel.alert(e.message||Voxel_Config.l10n.ajaxError,"error"),t.classList.remove("vx-pending")})})}),Voxel.dialog(e.dialog)):"checkout"===e.type?(localStorage.setItem("voxel:direct_cart",JSON.stringify({[e.item.key]:e.item.value})),window.location.href=e.checkout_link):"redirect"===e.type?window.location.href=e.redirect_to:e.redirect_url&&(window.location.href=e.redirect_url):Voxel.alert(e.message||Voxel_Config.l10n.ajaxError,"error"),t.classList.remove("vx-pending")})})})});
